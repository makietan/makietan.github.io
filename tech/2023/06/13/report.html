<!DOCTYPE html>
<html lang="ja_JP"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/notosansjp.css"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>久々に Docker を触らせられる② | 肉とお米とブロッコリー</title>
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="久々に Docker を触らせられる②" />
<meta name="author" content="makietan" />
<meta property="og:locale" content="ja_JP" />
<meta name="description" content="makietan.github.io 久々に Docker を触らせられる | 肉とお米とブロッコリー 本当にダルい。" />
<meta property="og:description" content="makietan.github.io 久々に Docker を触らせられる | 肉とお米とブロッコリー 本当にダルい。" />
<link rel="canonical" href="https://makietan.github.io/tech/2023/06/13/report.html" />
<meta property="og:url" content="https://makietan.github.io/tech/2023/06/13/report.html" />
<meta property="og:site_name" content="肉とお米とブロッコリー" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-06-13T00:00:00+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="久々に Docker を触らせられる②" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"makietan"},"dateModified":"2023-06-13T00:00:00+09:00","datePublished":"2023-06-13T00:00:00+09:00","description":"makietan.github.io 久々に Docker を触らせられる | 肉とお米とブロッコリー 本当にダルい。","headline":"久々に Docker を触らせられる②","mainEntityOfPage":{"@type":"WebPage","@id":"https://makietan.github.io/tech/2023/06/13/report.html"},"url":"https://makietan.github.io/tech/2023/06/13/report.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://makietan.github.io/feed.xml" title="肉とお米とブロッコリー" /><meta name="msvalidate.01" content="89F1D244C30C26610D2EB5442A4DA1D8" />
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7SP4YXPLVE"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-7SP4YXPLVE');
</script>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-72711550-4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-72711550-4');
</script>
<link rel="shortcut icon" href="/assets/images/icon.ico">
  <link rel="icon" sizes="144x144" href="/assets/images/icon_144.png">
  <script src="/assets/js/clipboard.js" type="text/javascript" charset="utf-8"></script>
  <script src="/assets/js/image-display.js" type="text/javascript" charset="utf-8"></script>
  <script src="/assets/js/collapse.js" type="text/javascript" charset="utf-8"></script>
</head>
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@makietanx" />
<meta name="twitter:title" content="久々に Docker を触らせられる②" />
<meta name="twitter:description" content="ここは日報をメインに書きます." />

<meta name="twitter:image" content="https://makietan.github.io/assets/thumbnail/logo.png" />

<link rel="icon" href="https://makietan.github.io/assets/images/favicon.ico">
  <link rel="apple-touch-icon" sizes="144x144" href="https://makietan.github.io/assets/images/icon_144.png" />

  <body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">肉とお米とブロッコリー</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/category/">Category</a><a class="page-link" href="/links/">Links</a><a class="page-link" href="/search/">Search</a></div>
      </nav></div>
</header>

<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">久々に Docker を触らせられる②</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2023-06-13T00:00:00+09:00" itemprop="datePublished">2023-06-13 00:00
      </time><p>
        <span class="post-categories">
          
          
            <a href="https://makietan.github.io/categories/tech">tech</a>
            
          
        </span>
      </p></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <div class="card">
  <a href="https://makietan.github.io/tech/2023/06/12/report.html"></a>
  <div class="card__header">
    <a href="https://makietan.github.io/tech/2023/06/12/report.html">makietan.github.io</a>
  </div>
  <div class="card__image">
    <img src="https://makietan.github.io/assets/thumbnail/logo.png" />
  </div>
  <div class="card__title">
    <p>久々に Docker を触らせられる | 肉とお米とブロッコリー</p>
  </div>
  <div class="card__description">
    <p>本当にダルい。</p>
  </div>
</div>

<p>続きをやっていく。
昨日は体調悪すぎてなんもできなかった。
頭痛と腹痛と…どうしたんだ俺。</p>

<h2 id="1-virtualbox-をインストール">1. virtualbox をインストール</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew <span class="nb">install</span> <span class="nt">--cask</span> virtualbox
 🍺  virtualbox was successfully installed!
</code></pre></div></div>

<h2 id="2-docker-machine-を動かす">2. docker-machine を動かす</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker-machine create <span class="nt">--driver</span> virtualbox default
Running pre-create checks...
</code></pre></div></div>

<h2 id="3-virtualboxでいろいろやる">3. virtualbox　でいろいろやる</h2>

<p>起動したり、パーミッションの許可をしたり</p>

<h2 id="4-サービスをリスタート">4. サービスをリスタート</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew services restart docker-machine
</code></pre></div></div>

<h3 id="5-動いてるかチェック">5. 動いてるかチェック</h3>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span> docker-machine <span class="nb">ls
</span>NAME      ACTIVE   DRIVER       STATE     URL   SWARM   DOCKER    ERRORS
default   <span class="k">*</span>        virtualbox   Running                 Unknown   Machine does not have a host-only adapter
</code></pre></div></div>

<h3 id="6-止めてから動かす">6. 止めてから動かす</h3>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker-machine stop default
docker-machine start default
</code></pre></div></div>

<h3 id="7-動かないので色々検索">7. 動かないので色々検索</h3>

<p><code class="language-plaintext highlighter-rouge">Error checking TLS connection: Machine does not have a host-only adapter</code> がやたら出るので色々やったけど解決せず…。</p>

<div class="card">
  <a href="https://stackoverflow.com/questions/69805077/cannot-start-docker-daemon-at-macbook"></a>
  <div class="card__header">
    <a href="https://stackoverflow.com/questions/69805077/cannot-start-docker-daemon-at-macbook">stackoverflow.com</a>
  </div>
  <div class="card__image">
    <img src="https://cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon@2.png?v=73d79a89bded" />
  </div>
  <div class="card__title">
    <p>Cannot start Docker daemon at MacBook - Stack Overflow</p>
  </div>
  <div class="card__description">
    <p>I ran the command, brew services start docker-machine.
It says, &quot;Successfully started docker-machine&quot;. But, I got error when I ran docker ps -a. Please help.
brew services start docker-ma...</p>
  </div>
</div>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker-machine create <span class="nt">-d</span> virtualbox <span class="nt">--virtualbox-hostonly-cidr</span> <span class="s2">"192.168.63.1/24"</span> default
</code></pre></div></div>

<p>ダメでした</p>

<h3 id="8-腹たってきたのでアンインストール">8. 腹たってきたのでアンインストール</h3>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew uninstall docker docker-machine docker-compose
</code></pre></div></div>

<h3 id="9-cask-で-docker-をインストール">9. cask で docker をインストール</h3>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew <span class="nb">install</span> <span class="nt">--cask</span> docker
🍺  docker was successfully installed!
</code></pre></div></div>

<h3 id="10-バージョン確認">10. バージョン確認</h3>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker <span class="nt">--version</span>
Docker version 24.0.2, build cb74dfc

docker-compose <span class="nt">--version</span>
docker: <span class="s1">'compose'</span> is not a docker command.
See <span class="s1">'docker --help'</span>

docker-machine <span class="nt">--version</span>
zsh: <span class="nb">command </span>not found: docker-machine
</code></pre></div></div>

<h3 id="11-ps">11. ps</h3>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker ps
Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?
</code></pre></div></div>

<h3 id="12-dockerapp-を起動">12. Docker.app を起動</h3>

<p>めんどくせぇ…</p>

<h3 id="13-再び-ps">13. 再び ps</h3>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker ps
CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES
</code></pre></div></div>

<h3 id="14-machine-と-compose-を-brew-install">14. machine と compose を brew install</h3>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew <span class="nb">install </span>docker-machine
brew services restart docker-machine
brew <span class="nb">install </span>docker-compose
brew <span class="nb">link</span> <span class="nt">--overwrite</span> docker-compose
</code></pre></div></div>

<h3 id="15-ダメだったのでアンインストール">15. ダメだったのでアンインストール</h3>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew uninstall docker docker-machine docker-compose
brew uninstall <span class="nt">--cask</span> docker
</code></pre></div></div>

<h3 id="16-virtualbox-の古いバージョンをインストール">16. VirtualBox の古いバージョンをインストール</h3>

<p>VirtualBox 6.1.26</p>

<div class="card">
  <a href="https://www.virtualbox.org/wiki/Download_Old_Builds_6_1"></a>
  <div class="card__header">
    <a href="https://www.virtualbox.org/wiki/Download_Old_Builds_6_1">www.virtualbox.org</a>
  </div>
  <div class="card__image">
    <img src="" />
  </div>
  <div class="card__title">
    <p>
      Download_Old_Builds_6_1     – Oracle VM VirtualBox

    </p>
  </div>
  <div class="card__description">
    <p></p>
  </div>
</div>

<p>クソすぎる…。
この辺じゃないとエラーが出るらしい。</p>

<h3 id="17-n度目の正直">17.　 N度目の正直</h3>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew <span class="nb">install </span>docker docker-machine docker-compose
</code></pre></div></div>

<h3 id="18-いろいろ実行">18. いろいろ実行</h3>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew services restart docker-machine

docker-machine create <span class="nt">--driver</span> virtualbox default
Error creating machine: Error <span class="k">in </span>driver during machine creation: Unable to start the VM: /usr/local/bin/VBoxManage startvm default <span class="nt">--type</span> headless failed:
VBoxManage: error: The virtual machine <span class="s1">'default'</span> has terminated unexpectedly during startup because of signal 10
VBoxManage: error: Details: code NS_ERROR_FAILURE <span class="o">(</span>0x80004005<span class="o">)</span>, component MachineWrap, interface IMachine

docker-machine <span class="nb">ls
</span>NAME      ACTIVE   DRIVER       STATE     URL   SWARM   DOCKER    ERRORS
default   -        virtualbox   Stopped                 Unknown
</code></pre></div></div>

<p>ダメだった。</p>

<h3 id="19-すべてアンインストール">19. すべてアンインストール</h3>

<p>もう無理。</p>

<p>virtualboxはインストーラーに入ってたアンインストールツールを実行。</p>

<h3 id="20-もう1回-cask-を試す">20. もう1回 cask を試す。</h3>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew <span class="nb">install</span> <span class="nt">--cask</span> docker
🍺  docker was successfully installed!
</code></pre></div></div>

<h3 id="21-fordesktop-を開く">21. forDesktop を開く</h3>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>open /Applications/Docker.app
</code></pre></div></div>

<p>以下の設定を有効にする</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>General
Start Docker Desktop when you log in
</code></pre></div></div>

<p>動いた？</p>

  </div><a class="u-url" href="/tech/2023/06/13/report.html" hidden></a>
</article>

<hr>




  
  

  

  
  

  

  
  

  

  
  

  
    
      <div class="related">
        <h1>関連日報</h1>
        <div class="related-posts">
    
          <div class="card">
            <a href="/tech/2023/07/18/report.html" title="fs.exists は fs/promises では使えないので fs.access を使ってみる"></a>
            <div class="card__header">
              <a href="/tech/2023/07/18/report.html">2023-07-18 00:00</a>
            </div>
            <div class="card__title">
              <p>fs.exists は fs/promises では使えないので fs.access を使ってみる</p>
            </div>
            <div class="card__description"></div>
          </div>
    
    
    
  

  
  

  

  
  

  
    
          <div class="card">
            <a href="/tech/2023/07/16/report.html" title="Macで変更日を基準としたファイルのナンバリング処理をNode.jsでやってみた"></a>
            <div class="card__header">
              <a href="/tech/2023/07/16/report.html">2023-07-16 00:00</a>
            </div>
            <div class="card__title">
              <p>Macで変更日を基準としたファイルのナンバリング処理をNode.jsでやってみた</p>
            </div>
            <div class="card__description"></div>
          </div>
    
    
    
  

  
  

  

  
  

  

  
  

  

  
  

  

  
  

  

  
  

  

  
  

  

  
  

  

  
  

  

  
  

  

  
  

  

  
  

  

  
  

  
    
          <div class="card">
            <a href="/tech/2023/07/03/report.html" title="UAによる計測が終わったっぽいな"></a>
            <div class="card__header">
              <a href="/tech/2023/07/03/report.html">2023-07-03 00:00</a>
            </div>
            <div class="card__title">
              <p>UAによる計測が終わったっぽいな</p>
            </div>
            <div class="card__description"></div>
          </div>
    
    
    
  

  
  

  

  
  

  

  
  

  

  
  

  

  
  

  

  
  

  

  
  

  

  
  

  

  
  

  

  
  

  

  
  

  

  
  

  

  
  

  

  
  

  

  
  

  

  
  

  

  
  

  
    
          <div class="card">
            <a href="/tech/2023/06/16/report.html" title="異常性のある人間を搭乗させない仕組みはできるのだろうか？"></a>
            <div class="card__header">
              <a href="/tech/2023/06/16/report.html">2023-06-16 00:00</a>
            </div>
            <div class="card__title">
              <p>異常性のある人間を搭乗させない仕組みはできるのだろうか？</p>
            </div>
            <div class="card__description"></div>
          </div>
    
    
    
  

  
  

  

  
  

  
    
          <div class="card">
            <a href="/tech/2023/06/14/report.html" title="LOGI OPTIONS+ を導入した"></a>
            <div class="card__header">
              <a href="/tech/2023/06/14/report.html">2023-06-14 00:00</a>
            </div>
            <div class="card__title">
              <p>LOGI OPTIONS+ を導入した</p>
            </div>
            <div class="card__description"></div>
          </div>
    
    
        </div>
      </div>
      


      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">肉とお米とブロッコリー</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1"><ul class="social-media-list"><li><a href="https://github.com/makietan"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">makietan</span></a></li><li><a href="https://www.twitter.com/makietanx"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">makietanx</span></a></li><li><a href="/feed.xml"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#rss"></use></svg> <span>rss</span></a></li></ul>
</div>
      <div class="footer-col footer-col-2">
      </div>
      <div class="footer-col footer-col-3">
        <p>ここは日報をメインに書きます.</p>
      </div>
    </div>

  </div><div style='text-align:center;'>
     <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
     <!-- https://makietan.github.io/ -->
     <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-2075260640954079"
          data-ad-slot="8308086588"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
     <script>
     (adsbygoogle = window.adsbygoogle || []).push({});
     </script>
</div>
</footer>
</body>

</html>
