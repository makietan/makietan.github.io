---
layout: post
title:  "Node.js で同じ行に上書き出力する"
categories: tech
date: "2018-09-04 00:00:00"
---

```js
const stateOf = (text) => {
  process.stdout.clearLine();
  process.stdout.cursorTo(0);
  process.stdout.write(text);
};
```

処理の進捗を表示したいという子供心から気になって調べてみた。

[clearLine](https://nodejs.org/api/readline.html#readline_readline_clearline_stream_dir) で現在の行をクリアして、
[cursorTo](https://nodejs.org/api/readline.html#readline_readline_cursorto_stream_x_y) でカーソルを移動、
[write](https://nodejs.org/api/readline.html#readline_rl_write_data_key) でテキストを表示する。

改行がある文章の場合は未確認なので頑張って調査してくれ。
