---
layout: post
title:  "Intel Mac (macOS 13) に yt-dlp を GitHub ソースからインストールする方法"
categories: tech
date: "2025-12-27 00:00:00"
---

macOS 13(Ventura)などのIntel Mac環境で、Homebrewを使わずにGitHubのリポジトリから`yt-dlp`をインストールする手順をまとめます。

Pythonの`error: externally-managed-environment`(PEP 668)を回避するため、仮想環境(venv)を作成します。シンボリックリンクでシステム全体から呼び出せるように設定します。

---

## 1. ソースコードの取得
まず、適当な作業ディレクトリに移動し、GitHubから最新のリポジトリをクローンします。

```bash
cd ~/project/
git clone https://github.com/yt-dlp/yt-dlp.git
cd yt-dlp
```

## 2. 仮想環境 (venv) の作成とインストール
システム環境を保護するため、ディレクトリ内に隔離されたPython環境を作ります。

```bash
# 仮想環境を作成
python3 -m venv venv

# 仮想環境を有効化
source venv/bin/activate

# 仮想環境内に yt-dlp をインストール
python3 -m pip install .

# バージョンが表示されるか確認
yt-dlp --version

# 確認できたら仮想環境を抜ける
deactivate
```

## 3. シンボリックリンクの設定
自作のシェルスクリプトやターミナルから直接 `yt-dlp` コマンドを呼び出せるよう、パスの通った場所にリンクを作成します。

```bash
# リンクを作成（パスは実際の環境に合わせて書き換えてください）
sudo ln -s /Users/あなたのユーザー名/yt-dlp/venv/bin/yt-dlp /usr/local/bin/yt-dlp
```

## 4. 動作確認
設定が完了したら、新しいターミナルを開いて以下のコマンドでパスを確認します。

```bash
which yt-dlp
# /usr/local/bin/yt-dlp と表示されれば完了
```

---

## 補足：アップデート方法

最新のソースに更新したい場合は、ディレクトリに移動して `git pull` 後に再度インストールを行います。

```bash
cd ~/project/yt-dlp
git pull
source venv/bin/activate
python3 -m pip install .
deactivate
```

## 必須：FFmpegについて
動画と音声を結合するには**FFmpeg**が必要です。Homebrewが使えない場合は、公式バイナリをダウンロードして`/usr/local/bin`へ配置してください。
